(function(e){function t(t){for(var i,a,l=t[0],r=t[1],c=t[2],u=0,h=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);f&&f(t);while(h.length)h.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},a={app:0},o={app:0},s=[];function l(e){return r.p+"js/"+({about:"about"}[e]||e)+"."+{about:"1aedfafe"}[e]+".js"}function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],n={about:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var i="css/"+({about:"about"}[e]||e)+"."+{about:"958ae332"}[e]+".css",o=r.p+i,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var c=s[l],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===i||u===o))return t()}var h=document.getElementsByTagName("style");for(l=0;l<h.length;l++){c=h[l],u=c.getAttribute("data-href");if(u===i||u===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var i=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=i,delete a[e],f.parentNode.removeChild(f),n(s)},f.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[e]=0})));var i=o[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise((function(t,n){i=o[e]=[t,n]}));t.push(i[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=l(e);var h=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;h.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",h.name="ChunkLoadError",h.type=i,h.request=a,n[1](h)}o[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/xjq/",r.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var h=0;h<c.length;h++)t(c[h]);var f=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-menu",{attrs:{mode:"horizontal",router:""}},[n("el-menu-item",{attrs:{index:"/"}},[e._v("仙剑情")]),n("el-menu-item",{attrs:{index:"/about"}},[e._v("关于我")])],1),n("router-view")],1)},o=[],s=n("bee2"),l=n("d4ec"),r=n("262e"),c=n("2caf"),u=n("9ab4"),h=n("60a3"),f=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n)}(h["d"]);f=Object(u["a"])([Object(h["a"])({components:{}})],f);var p=f,d=p,m=n("2877"),b=Object(m["a"])(d,a,o,!1,null,null,null),v=b.exports,g=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",[e._v("版本："+e._s(e.version))]),e.error_connect?n("div",{staticStyle:{"text-align":"center"}},[n("span",{staticStyle:{color:"red","margin-right":"1em"}},[e._v("服务连接失败，请确认软件是否已打开~~~")]),n("el-button",{attrs:{type:"primary"},on:{click:e.connectClient}},[e._v("重新连接")])],1):n("el-tabs",{model:{value:e.tabId,callback:function(t){e.tabId=t},expression:"tabId"}},[n("el-tab-pane",{attrs:{label:"窗口",name:"window"}},[n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{on:{click:e.refreshWindow}},[e._v("重新获取窗口")]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"刷新",placement:"top"}},[n("el-button",{attrs:{type:"warning",icon:"el-icon-refresh",circle:""},on:{click:function(t){return e.refresh()}}})],1)],1),n("el-table",{ref:"table",attrs:{data:e.items,"max-height":"500","highlight-current-row":"","row-key":"id",stripe:"","default-sort":{prop:"GroupName",order:"ascending"}},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),n("el-table-column",{attrs:{label:"角色名",width:"120"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[n("img",{attrs:{src:t.Img,alt:""}})]}}])}),n("el-table-column",{attrs:{label:"窗口名",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.$index;return[e._v("仙剑情窗口"+e._s(n+1))]}}])}),n("el-table-column",{attrs:{prop:"State",label:"状态",width:"180"}}),n("el-table-column",{attrs:{label:"组",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(e._s(n.From||"-"))]}}])}),n("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return["未连接"==i.State||"-窗口绑定失败"==i.State?n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.connect(i)}}},[e._v("重新连接")]):[n("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.pause(i)}}},[e._v("暂停")]),n("el-button",{on:{click:function(t){return e.screenshot(i)}}},[e._v("截图")])]]}}])})],1),n("div",[e._v(e._s(e.multipleSelection.length)+"/"+e._s(e.items.length))]),n("div",{staticStyle:{padding:"1em 0"}},[n("el-form",{ref:"form",attrs:{"label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"坐标",width:"200"}},[n("el-radio-group",{model:{value:e.cood_index,callback:function(t){e.cood_index=t},expression:"cood_index"}},e._l(e.coods,(function(t,i){return n("el-radio",{key:i,attrs:{label:i}},[n("point-component",{model:{value:e.coods[i],callback:function(t){e.$set(e.coods,i,t)},expression:"coods[index]"}})],1)})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",disabled:0===e.multipleSelection.length},on:{click:function(t){return e.actionChecked({Name:"locate",Value:e.cood})}}},[e._v("寻路")]),n("el-button",{attrs:{type:"danger",disabled:0===e.multipleSelection.length},on:{click:function(t){return e.actionChecked({Name:"fight",Value:e.cood})}}},[e._v("打架")]),n("el-button",{attrs:{type:"warning",disabled:0===e.multipleSelection.length},on:{click:function(t){return e.actionChecked({Name:"hang",Value:e.cood})}}},[e._v("挂机")]),n("el-button",{attrs:{type:"danger",disabled:0===e.multipleSelection.length},on:{click:function(t){e.actionChecked({Name:"capture-map"},!0),e.has_get_capture_map=!0}}},[e._v("跨服打架")]),n("el-button",{attrs:{type:"warning",disabled:0===e.multipleSelection.length},on:{click:function(t){return e.actionChecked({Name:"fix-equipment"})}}},[e._v("修理装备")]),n("el-button",{attrs:{type:"primary",disabled:0===e.multipleSelection.length},on:{click:function(t){return e.actionChecked({Name:"fangjineng",Value:e.cood})}}},[e._v("疯狂放技能")]),n("el-button",{attrs:{type:"warning",disabled:0===e.multipleSelection.length},on:{click:function(t){return e.actionChecked({Name:"pause"})}}},[e._v("暂停")])],1),n("el-form-item",{attrs:{label:"组合"}},[n("el-button",{attrs:{type:"primary",disabled:0===e.multipleSelection.length},on:{click:function(t){return e.actionChecked({Name:"luori",Value:e.cood})}}},[e._v("落日谷")]),n("el-button",{attrs:{type:"warning",disabled:0===e.multipleSelection.length},on:{click:function(t){return e.actionChecked({Name:"kuafu-boss",Value:e.cood})}}},[e._v("跨服boss")]),n("el-button",{attrs:{type:"primary",disabled:0===e.multipleSelection.length},on:{click:function(t){return e.actionChecked({Name:"zhaoji",Value:e.cood})}}},[e._v("召集元宝")]),n("el-button",{attrs:{type:"danger",disabled:0===e.multipleSelection.length},on:{click:e.beginTianxia}},[e._v("天下第一")]),n("el-button",{attrs:{type:"primary",disabled:0===e.multipleSelection.length},on:{click:function(t){return e.actionChecked({Name:"match"})}}},[e._v("竞技")]),n("el-button",{attrs:{type:"warning",disabled:0===e.multipleSelection.length},on:{click:function(t){return e.actionChecked({Name:"wubianhai"})}}},[e._v("无边海")])],1),n("el-form-item",{attrs:{label:"附魂战场"}},[e.hasFuhunCoods?n("el-input",{attrs:{type:"textarea",placeholder:"附魂坐标"},model:{value:e.fuhun_coods,callback:function(t){e.fuhun_coods=t},expression:"fuhun_coods"}}):e._e(),n("el-button",{attrs:{type:"primary",disabled:0===e.multipleSelection.length},on:{click:e.fuhun}},[e._v("开始附魂")])],1),n("el-form-item",{attrs:{label:"副本"}},[n("el-checkbox-group",{model:{value:e.fuben_sels,callback:function(t){e.fuben_sels=t},expression:"fuben_sels"}},e._l(e.fubens,(function(t,i){return n("el-checkbox",{key:i,attrs:{label:i}},[e._v(e._s(t.Name))])})),1),n("el-button",{attrs:{type:"primary",disabled:0===e.multipleSelection.length||0===e.fuben_sels.length},on:{click:function(t){return e.actionChecked({Name:"fuben",Value:e.fuben_sels})}}},[e._v("开始副本")])],1),n("el-form-item",{attrs:{label:"控制"}},[n("remote-connection",{ref:"remote-conn",attrs:{setting:e.setting},on:{message:e.sendDirect},model:{value:e.has_remote,callback:function(t){e.has_remote=t},expression:"has_remote"}})],1),n("el-form-item",{attrs:{label:"服务"}},[n("remote-server",{attrs:{setting:e.setting},on:{"update:setting":function(t){e.setting=t},action:function(t){return e.sendDirect({Name:t})}}})],1),n("el-form-item",{attrs:{label:"消息",width:"200"}},[n("el-input",{model:{value:e.msg,callback:function(t){e.msg=t},expression:"msg"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",disabled:0===e.multipleSelection.length},on:{click:function(t){return e.actionChecked({Name:"shout",Value:e.msg})}}},[e._v("发送")])],1)],1)],1)],1),n("el-tab-pane",{attrs:{label:"配置",name:"second"}},[n("setting-component",{ref:"setting-component",on:{input:e.changeSetting},model:{value:e.setting,callback:function(t){e.setting=t},expression:"setting"}})],1)],1),n("el-dialog",{attrs:{visible:e.show_map,title:"选择位置",width:"630px"},on:{"update:visible":function(t){e.show_map=t}}},[n("img",{attrs:{src:e.url_map},on:{click:e.clickMap}})])],1)},y=[],k=n("5530"),S=(n("cb29"),n("e9c4"),n("498a"),n("a15b"),n("d81d"),n("4de4"),n("ac1f"),n("1276"),n("466d"),n("d9e2"),n("99af"),n("a434"),n("a9e3"),n("7db0"),n("fb6a"),n("159b"),n("caad"),n("b64b"),n("2909")),j=(n("b0c0"),n("ace4"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("5c96")),O=n.n(j),x=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"service",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"127.0.0.1";Object(l["a"])(this,e),this.options=t,this.name=n,this.ip=i,this.manual_close=!1}return Object(s["a"])(e,[{key:"send",value:function(e){this.ws.send(JSON.stringify(e))}},{key:"connect",value:function(){var e=this;this.ws=new WebSocket("ws://".concat(this.ip.trim(),":5000/").concat(this.name)),this.ws.binaryType="arraybuffer";var t=j["Loading"].service({fullscreen:!0,text:"连接服务中..."});this.ws.onmessage=function(t){var n,i=t.data;if("string"===typeof i)n=JSON.parse(i);else{var a=new Uint8Array(i),o=0,s=a[o++],l=String.fromCharCode.apply(String,Object(S["a"])(a.slice(o,o+s)));o+=s;var r="";o<a.length&&(s=a[o++],r=String.fromCharCode.apply(String,Object(S["a"])(a.slice(o,o+s)))),n={Name:l,Value:r}}e.options.onMessage(n)},this.ws.onopen=function(n){t.close(),e.options.onConnect()},this.ws.onerror=function(e){t.close()},this.ws.onclose=function(n){t.close(),e.manual_close||e.options.onClose()}}},{key:"destroy",value:function(){this.manual_close=!0,this.ws.close()}}]),e}(),w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{"label-width":"120px"}},[n("el-form-item",{attrs:{label:"复活"}},[n("el-radio-group",{model:{value:e.setting.ReviveWay,callback:function(t){e.$set(e.setting,"ReviveWay",t)},expression:"setting.ReviveWay"}},[n("el-radio",{attrs:{label:0}},[e._v("原地复活")]),n("el-radio",{attrs:{label:1}},[e._v("复活点复活")])],1),n("span",{staticStyle:{"margin-left":"2em"}},[e._v("地图切换间隔")]),n("el-input-number",{attrs:{min:300,"controls-position":"right"},model:{value:e.setting.MapSwtichTime,callback:function(t){e.$set(e.setting,"MapSwtichTime",t)},expression:"setting.MapSwtichTime"}}),e._v("ms "),n("span",{staticStyle:{"margin-left":"2em"}},[e._v("召集等待")]),n("el-input-number",{model:{value:e.setting.ZhaojiWait,callback:function(t){e.$set(e.setting,"ZhaojiWait",t)},expression:"setting.ZhaojiWait"}}),n("span",{staticStyle:{"margin-left":"2em"}},[e._v("召集出口")]),n("el-select",{model:{value:e.setting.ZhaojiExit,callback:function(t){e.$set(e.setting,"ZhaojiExit",t)},expression:"setting.ZhaojiExit"}},e._l(e.zhaojiOptions,(function(e){var t=e.label,i=e.value;return n("el-option",{key:i,attrs:{label:t,value:i}})})),1)],1),n("el-form-item",{attrs:{label:"传送"}},[n("el-checkbox",{model:{value:e.setting.IsChatTransfer,callback:function(t){e.$set(e.setting,"IsChatTransfer",t)},expression:"setting.IsChatTransfer"}},[e._v("聊天频道传送")]),n("span",[n("el-checkbox",{model:{value:e.is_locate_interval,callback:function(t){e.is_locate_interval=t},expression:"is_locate_interval"}},[e._v("循环寻路")]),n("el-input-number",{staticStyle:{margin:"0 1em"},attrs:{disabled:!e.is_locate_interval,min:1,"controls-position":"right"},model:{value:e.setting.LocateInterval,callback:function(t){e.$set(e.setting,"LocateInterval",t)},expression:"setting.LocateInterval"}}),e._v("s ")],1),n("el-checkbox",{staticStyle:{"margin-left":"1em"},model:{value:e.setting.AutoTrans,callback:function(t){e.$set(e.setting,"AutoTrans",t)},expression:"setting.AutoTrans"}},[e._v("寻路自动传送")])],1),n("el-form-item"),n("el-form-item",{attrs:{label:"技能设置"}},[n("span",[e._v("每轮释放间隔")]),n("el-input-number",{attrs:{min:1,"controls-position":"right"},model:{value:e.setting.SkillInterval,callback:function(t){e.$set(e.setting,"SkillInterval",t)},expression:"setting.SkillInterval"}}),e._v("ms "),n("span",{staticStyle:{"margin-left":"1em"}},[e._v("按键间隔")]),n("el-input-number",{attrs:{min:1,"controls-position":"right"},model:{value:e.setting.SkillKeyInterval,callback:function(t){e.$set(e.setting,"SkillKeyInterval",t)},expression:"setting.SkillKeyInterval"}}),e._v("ms ")],1),n("el-form-item",{attrs:{label:"附魂开局等待"}},[n("el-input-number",{staticStyle:{margin:"0 1em"},attrs:{min:1,"controls-position":"right"},model:{value:e.setting.FuhunWaitTime,callback:function(t){e.$set(e.setting,"FuhunWaitTime",t)},expression:"setting.FuhunWaitTime"}}),e._v("s ")],1),n("el-form-item",[n("el-checkbox",{model:{value:e.setting.AutoSelectRole,callback:function(t){e.$set(e.setting,"AutoSelectRole",t)},expression:"setting.AutoSelectRole"}},[e._v("自动选择角色")])],1),n("el-form-item",[n("el-checkbox",{model:{value:e.setting.IsCompatible,callback:function(t){e.$set(e.setting,"IsCompatible",t)},expression:"setting.IsCompatible"}},[e._v("兼容模式")]),n("span",{staticStyle:{color:"gray"}},[e._v("（该浏览器模式下不可见游戏窗口只能盲目放技能）")])],1)],1)},C=[],I=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.setting={ReviveWay:1,AutoTrans:!1,LocateInterval:5,FuhunWaitTime:0,AutoSelectRole:!1,IsCompatible:!1,SkillKeyInterval:0,SkillInterval:0,IsChatTransfer:!1,MapSwtichTime:0,ZhaojiWait:0,ZhaojiExit:0,IsServer:!1},e.is_locate_interval=!1,e.is_self_update=!1,e.zhaojiOptions=[{label:"左下",value:0},{label:"右上",value:1},{label:"右下",value:2}],e}return Object(s["a"])(n,[{key:"setSetting",value:function(e){var t=this;this.is_self_update||(this.is_self_update=!0,this.$nextTick((function(){t.is_self_update=!1})),this.unWatchSetting(),this.is_locate_interval=e.LocateInterval>0,this.is_locate_interval&&Object.assign(this.setting,e,{LocateInterval:this.setting.LocateInterval}),this.$nextTick((function(){t.unwatch_fn=t.$watch("setting",t.onSettingChange,{deep:!0})})))}},{key:"onSettingChange",value:function(){var e=this;if(!this.is_self_update){this.is_self_update=!0,this.$nextTick((function(){e.is_self_update=!1}));var t=this.setting;this.$emit("input",Object.assign({},t,{LocateInterval:this.is_locate_interval?t.LocateInterval:0}))}}},{key:"unWatchSetting",value:function(){this.unwatch_fn&&this.unwatch_fn()}}]),n}(h["d"]);Object(u["a"])([Object(h["c"])()],I.prototype,"value",void 0),Object(u["a"])([Object(h["e"])("value",{deep:!0})],I.prototype,"setSetting",null),Object(u["a"])([Object(h["e"])("is_locate_interval")],I.prototype,"onSettingChange",null),I=Object(u["a"])([h["a"]],I);var N=I,$=N,T=Object(m["a"])($,w,C,!1,null,null,null),E=T.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("span",[e._v("x：")]),n("el-input-number",{staticStyle:{width:"90px"},attrs:{size:"mini",min:0,"controls-position":"right"},model:{value:e.point.x,callback:function(t){e.$set(e.point,"x",t)},expression:"point.x"}}),n("span",[e._v("y：")]),n("el-input-number",{staticStyle:{width:"90px"},attrs:{size:"mini",min:0,"controls-position":"right"},model:{value:e.point.y,callback:function(t){e.$set(e.point,"y",t)},expression:"point.y"}})],1)},V=[],R=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.point={x:10,y:10},e}return Object(s["a"])(n,[{key:"onValueChange",value:function(e,t){var n=e.split(",");this.point={x:Number(n[0]),y:Number(n[1])}}},{key:"onPointChange",value:function(){this.$emit("input","".concat(this.point.x,",").concat(this.point.y))}}]),n}(h["d"]);Object(u["a"])([Object(h["c"])()],R.prototype,"value",void 0),Object(u["a"])([Object(h["e"])("value")],R.prototype,"onValueChange",null),Object(u["a"])([Object(h["e"])("point",{deep:!0})],R.prototype,"onPointChange",null),R=Object(u["a"])([h["a"]],R);var W=R,A=W,L=Object(m["a"])(A,D,V,!1,null,null,null),M=L.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("storage-input",{attrs:{name:"ip"},model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}},[n("template",{slot:"prepend"},[e._v("主机地址:")]),n("el-button",{attrs:{slot:"suffix",disabled:!e.ip,loading:1===e.state},on:{click:e.connectRemoteServer},slot:"suffix"},[e._v(e._s(e.state_text))])],2)},P=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-input",e._g(e._b({model:{value:e.data,callback:function(t){e.data=t},expression:"data"}},"el-input",e.$attrs,!1),e.$listeners),[e._t("default"),e._t("prepend",null,{slot:"prepend"}),e._t("append",null,{slot:"append"}),e._t("suffix",null,{slot:"suffix"})],2)},z=[],J=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.data="",e}return Object(s["a"])(n,[{key:"created",value:function(){var e=localStorage.getItem(this.name);this.data=e||this.value}},{key:"input",value:function(e){localStorage.setItem(this.name,e)}}]),n}(h["d"]);Object(u["a"])([Object(h["c"])()],J.prototype,"value",void 0),Object(u["a"])([Object(h["c"])()],J.prototype,"name",void 0),Object(u["a"])([Object(h["e"])("data"),Object(h["b"])()],J.prototype,"input",null),J=Object(u["a"])([h["a"]],J);var Z=J,K=Z,q=Object(m["a"])(K,H,z,!1,null,"7b70d914",null),B=q.exports,U=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.ip="127.0.0.1",e.state=0,e}return Object(s["a"])(n,[{key:"state_text",get:function(){return 1===this.state?"连接中":2===this.state?"断开":"连接"}},{key:"connectRemoteServer",value:function(){var e=this;if(0===this.state){this.ws=new x({onConnect:function(){e.state=2,e.$emit("input",!0)},onMessage:this.message,onClose:function(){e.state=0,e.$emit("input",!1)}},"remote-server",this.ip);try{this.ws.connect(),this.state=1}catch(t){this.$alert("连接失败，请稍后重试",{type:"error"})}}else 2===this.state&&(this.ws.destroy(),this.state=0)}},{key:"send",value:function(e){this.ws.send(e)}},{key:"message",value:function(e){}},{key:"beforeDestroy",value:function(){var e;null===(e=this.ws)||void 0===e||e.destroy()}}]),n}(h["d"]);Object(u["a"])([Object(h["c"])()],U.prototype,"setting",void 0),Object(u["a"])([Object(h["b"])()],U.prototype,"message",null),U=Object(u["a"])([Object(h["a"])({components:{StorageInput:B}})],U);var G=U,X=G,Y=Object(m["a"])(X,F,P,!1,null,"c4a8e842",null),Q=Y.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-button",{on:{click:e.startRemoteServer}},[e._v(e._s(e.state_text))]),e.setting.IsServer?n("div",{staticStyle:{height:"50px",overflow:"hidden",width:"450px"}},[n("iframe",{staticStyle:{transform:"translate(0,-110px)"},attrs:{src:"https://www.ip138.com/",width:"500",height:"300px",frameborder:"0"}})]):e._e()],1)},te=[],ne=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.state=0,e}return Object(s["a"])(n,[{key:"state_text",get:function(){return 1===this.state?"开启服务中":2===this.state?"停止服务":"开启服务"}},{key:"onChange",value:function(e){this.state=e?2:0}},{key:"startRemoteServer",value:function(){0===this.state?(this.state=1,this.$emit("action","start-remote-server")):this.$emit("action","stop-remote-server")}}]),n}(h["d"]);Object(u["a"])([Object(h["c"])()],ne.prototype,"setting",void 0),Object(u["a"])([Object(h["e"])("setting.IsServer")],ne.prototype,"onChange",null),ne=Object(u["a"])([h["a"]],ne);var ie=ne,ae=ie,oe=Object(m["a"])(ae,ee,te,!1,null,"f3154414",null),se=oe.exports;function le(e,t){_hmt.push(["_trackEvent","操作",e,t])}var re=function(e){Object(r["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(l["a"])(this,n),e=t.apply(this,arguments),e.items=[],e.multipleSelection=[],e.coods=Array(5).fill("10,10"),e.cood_index=0,e.msg="",e.tabId="window",e.error_connect=!1,e.fuben_sels=[],e.fubens=[],e.t_heartbeat=0,e.show_map=!1,e.url_map="",e.clientIDs=[],e.fuhun_coods="7,42",e.version=1,e.setting={},e.tianxia_count=0,e.has_get_capture_map=!1,e.has_remote=!1,e}return Object(s["a"])(n,[{key:"cood",get:function(){return this.coods[this.cood_index]}},{key:"actionChecked",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"string"!==typeof e.Value&&(e.Value=JSON.stringify(e.Value));var n=t?[this.multipleSelection[0]]:this.multipleSelection;this.send(e,n)}},{key:"hasFuhunCoods",get:function(){return this.version>2.9}},{key:"fuhun",value:function(){var e=this,t=this.fuhun_coods.trim();this.hasFuhunCoods&&(t=t.split(/\r?\n/).map((function(e){return e.trim()})).filter(Boolean).map((function(t){var n=t.match(/\d+/g);if(!n||2!==n.length)throw e.$alert("附魂坐标错误，请检查后再试"),new Error;return n.join(",")})).join("\n")),this.actionChecked({Name:"fuhun-init",Value:t})}},{key:"screenshot",value:function(e){this.send({Name:"screenshot"},[e])}},{key:"pause",value:function(e){this.send({Name:"pause"},[e])}},{key:"connect",value:function(e){this.send({Name:"connect"},[e])}},{key:"connectClient",value:function(){le("reconnect"),this.ws.connect()}},{key:"mounted",value:function(){var e=this;this.ws=new x({onMessage:this.onMessage,onConnect:function(){e.send({Name:"get-setting"}),e.send({Name:"fubens"}),e.send({Name:"client-ids"}),e.send({Name:"version"}),setTimeout(e.refreshWindow,2e3),e.error_connect=!1},onClose:function(){e.error_connect=!0}}),this.ws.connect();var t=localStorage.getItem("coods");t&&(this.coods=JSON.parse(t)),this.$nextTick((function(){return e.$watch("coods",e.onCoodsChange)}));var n=localStorage.getItem("fuhun_coods");n&&(this.fuhun_coods=n),this.$nextTick((function(){return e.$watch("fuhun_coods",e.onFuhunCoodsChange)})),this.t_heartbeat=setInterval((function(){le("heartbeat")}),6e4)}},{key:"refresh",value:function(e){e?this.send({Name:"refresh",ClientID:e}):this.batchSend({Name:"refresh"})}},{key:"refreshWindow",value:function(){this.batchSend({Name:"window-refresh"})}},{key:"clickMap",value:function(e){this.actionChecked({Name:"kuafu-fight",Value:"".concat(e.offsetX>>0,",").concat(e.offsetY>>0)}),this.show_map=!1}},{key:"handleSelectionChange",value:function(e){this.multipleSelection=e}},{key:"onHasRemoteChange",value:function(e){e&&this.refresh()}},{key:"accTianxia",value:function(){this.tianxia_count+=1,this.tianxia_count>=this.multipleSelection.length&&this.actionChecked({Name:"tianxia"})}},{key:"beginTianxia",value:function(){var e=this;this.actionChecked({Name:"tianxia-init"}),this.$confirm("点击确定开始报名").then((function(){e.actionChecked({Name:"tianxia"})}))}},{key:"onMessage",value:function(e){var t=this,n=e.Name,i=e.Value,a=e.From,o=e.ClientID,s=!this.setting.IsServer||o;if("setting"===n)this.setting=i;else if("fubens"===n)this.fubens=i,this.fuben_sels=this.fubens.map((function(e,t){return t}));else if("client-connect"===n)this.clientIDs.push(o),this.refresh(o);else if("client-disconnect"===n){var l=this.clientIDs.indexOf(o);this.clientIDs.splice(l,1),this.items=this.items.filter((function(e){return e.ClientID!==o}))}else if("client-ids"===n)this.clientIDs=i;else if("version"===n)this.version=Number(i);else{if(s)if("item"===n){var r=this.items.find((function(e){return e.Hwnd===i.Hwnd&&o===e.ClientID}));r&&Object.assign(r,i)}else if("items"===n){var c=this.multipleSelection.slice(0),u=i.map((function(e){return Object(k["a"])(Object(k["a"])({},e),{},{From:a,ClientID:o,id:[o,e.Hwnd].join("-")})}));this.items=o?this.items.filter((function(e){return!u.find((function(t){return e.id===t.id}))})).concat(u):u,this.$nextTick((function(){t.items.forEach((function(e,n){t.$refs.table.toggleRowSelection(e,!!c.find((function(t){return t.id===e.id})))}))}))}else"capture-map"===n&&this.has_get_capture_map&&(this.show_map=!0,this.url_map=i,this.has_get_capture_map=!1);this.has_remote&&!o&&["item","items","capture-map","refresh"].includes(n)&&this.$refs["remote-conn"].send(e)}}},{key:"changeSetting",value:function(e){this.batchSend({Name:"setting",Value:JSON.stringify(e)},this.items)}},{key:"batchSend",value:function(e,t){var n=this;this.setting.IsServer?this.clientIDs.forEach((function(t){return n.send(Object(k["a"])(Object(k["a"])({},e),{},{ClientID:t}))})):this.send(e,t)}},{key:"send",value:function(e,t){var n=this;if(!e.ClientID&&this.setting.IsServer){var i=t||this.items,a={};i.forEach((function(e){var t=e.ClientID;a[t]?a[t].push(e):a[t]=[e]})),Object.keys(a).forEach((function(t){n.sendDirect(Object(k["a"])(Object(k["a"])({},e),{},{Hwnds:a[t].map((function(e){var t=e.Hwnd;return t})),ClientID:t}))}))}else t&&(e.Hwnds=t.map((function(e){var t=e.Hwnd;return t}))),this.sendDirect(e);le(e.Name,t&&t.length)}},{key:"sendDirect",value:function(e){this.ws.send(e)}},{key:"onServerStateChange",value:function(e){e&&(this.items=[],this.$refs["remote-conn"].connectRemoteServer()),this.refresh()}},{key:"beforeDestroy",value:function(){this.ws.destroy(),clearInterval(this.t_heartbeat)}},{key:"onCoodsChange",value:function(e){localStorage.setItem("coods",JSON.stringify(e))}},{key:"onFuhunCoodsChange",value:function(e){localStorage.setItem("fuhun_coods",e)}}]),n}(h["d"]);Object(u["a"])([Object(h["e"])("has_remote")],re.prototype,"onHasRemoteChange",null),Object(u["a"])([Object(h["e"])("setting.IsServer")],re.prototype,"onServerStateChange",null),re=Object(u["a"])([Object(h["a"])({components:{SettingComponent:E,PointComponent:M,RemoteConnection:Q,RemoteServer:se}})],re);var ce=re,ue=ce,he=Object(m["a"])(ue,_,y,!1,null,null,null),fe=he.exports;i["default"].use(g["a"]);var pe=[{path:"/",name:"Home",component:fe},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],de=new g["a"]({routes:pe}),me=de,be=n("2f62");i["default"].use(be["a"]);var ve=new be["a"].Store({state:{},mutations:{},actions:{},modules:{}});n("0fae");i["default"].use(O.a,{size:"small",zIndex:3e3}),i["default"].config.productionTip=!1,new i["default"]({router:me,store:ve,render:function(e){return e(v)}}).$mount("#app")}});